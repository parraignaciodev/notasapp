{"version":3,"sources":["angular:jit:template:src\\app\\detalle-tarea\\detalle-tarea.page.html","angular:jit:style:src\\app\\detalle-tarea\\detalle-tarea.page.scss","node_modules/@capacitor/camera/dist/esm/definitions.js","node_modules/@capacitor/camera/dist/esm/web.js","node_modules/@capacitor/camera/dist/esm/index.js","node_modules/@capacitor/synapse/dist/synapse.mjs","node_modules/@capacitor/geolocation/dist/esm/definitions.js","node_modules/@capacitor/geolocation/dist/esm/index.js","src/app/detalle-tarea/detalle-tarea.page.ts","src/app/detalle-tarea/detalle-tarea.page.spec.ts"],"sourcesContent":["<ion-header class=\"ion-no-border\">\r\n  <ion-toolbar class=\"glass-header\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"/home\" color=\"primary\" text=\"\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"editar()\" color=\"primary\" style=\"font-weight: 600;\">\r\n        Editar\r\n      </ion-button>\r\n      <ion-button (click)=\"eliminar()\" color=\"danger\" style=\"font-weight: 600;\">\r\n        Eliminar\r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding detail-content\">\r\n  <!-- Verificamos si existe la tarea -->\r\n  <div *ngIf=\"tarea; else noEncontrada\" class=\"detail-container animate-entry\">\r\n\r\n    <!-- Tarjeta principal con el color dinámico -->\r\n    <div class=\"note-detail-card\" [style.--note-bg]=\"'var(--note-' + (tarea?.color || 'gray') + ')'\">\r\n      \r\n      <!-- Encabezado de la nota -->\r\n      <div class=\"detail-header\">\r\n        <h1 class=\"detail-title\">{{ tarea.titulo }}</h1>\r\n        <div class=\"detail-meta\">\r\n          <span class=\"date\">\r\n            <ion-icon name=\"calendar-outline\"></ion-icon>\r\n            {{ (tarea.updatedAt || tarea.createdAt) | date:'d MMM yyyy, HH:mm' }}\r\n          </span>\r\n          <span class=\"status-badge\" [class.done]=\"tarea.completada\">\r\n            {{ tarea.completada ? 'Completada' : 'Pendiente' }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Descripción -->\r\n      <div class=\"detail-body\">\r\n        <p class=\"description\">{{ tarea.descripcion }}</p>\r\n      </div>\r\n\r\n      <!-- SECCIÓN FOTO (Modificada) -->\r\n      <div class=\"foto-section\">\r\n        <div class=\"section-title\">\r\n          <ion-icon name=\"camera-outline\"></ion-icon> Foto\r\n        </div>\r\n\r\n        <!-- CASO 1: Si hay foto guardada (fotoData) -->\r\n        <div *ngIf=\"tarea.fotoData; else sinFoto\" class=\"foto-wrapper animate-entry\">\r\n          <div class=\"img-container\">\r\n            <img [src]=\"tarea.fotoData\" alt=\"Foto de la tarea\" class=\"foto-tarea\" />\r\n          </div>\r\n\r\n          <div class=\"foto-actions\">\r\n            <!-- Botón Eliminar -->\r\n            <ion-button \r\n              color=\"danger\" \r\n              fill=\"outline\" \r\n              size=\"small\" \r\n              (click)=\"borrarFoto()\">\r\n              <ion-icon name=\"trash-outline\" slot=\"start\"></ion-icon>\r\n              Eliminar foto\r\n            </ion-button>\r\n            \r\n            <!-- Botón Cambiar (Opcional, reutiliza tomarFoto) -->\r\n            <ion-button \r\n              color=\"primary\" \r\n              fill=\"clear\" \r\n              size=\"small\" \r\n              (click)=\"tomarFoto()\">\r\n              <ion-icon name=\"camera-reverse-outline\" slot=\"start\"></ion-icon>\r\n              Cambiar\r\n            </ion-button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- CASO 2: Si NO hay foto -->\r\n        <ng-template #sinFoto>\r\n          <div class=\"empty-photo-state\">\r\n            <p class=\"hint\">No hay imagen adjunta.</p>\r\n            <ion-button expand=\"block\" color=\"primary\" (click)=\"tomarFoto()\">\r\n              <ion-icon name=\"camera\" slot=\"start\"></ion-icon>\r\n              Tomar foto\r\n            </ion-button>\r\n          </div>\r\n        </ng-template>\r\n      </div>\r\n\r\n      <hr class=\"divider\">\r\n\r\n      <!-- SECCIÓN UBICACIÓN -->\r\n      <div class=\"ubicacion-section\">\r\n        <div class=\"section-title\">\r\n          <ion-icon name=\"location-outline\"></ion-icon> Ubicación\r\n        </div>\r\n        \r\n        <div *ngIf=\"tarea.lat && tarea.lng; else sinUbicacion\" class=\"location-data\">\r\n          <p>\r\n            <strong>Lat:</strong> {{ tarea.lat | number:'1.6-6' }} <br>\r\n            <strong>Lng:</strong> {{ tarea.lng | number:'1.6-6' }}\r\n          </p>\r\n          \r\n          <ion-button\r\n            expand=\"block\"\r\n            fill=\"outline\"\r\n            color=\"tertiary\"\r\n            class=\"map-btn\"\r\n            (click)=\"verEnMapa()\">\r\n            <ion-icon name=\"map-outline\" slot=\"start\"></ion-icon>\r\n            Ver en Google Maps\r\n          </ion-button>\r\n        </div>\r\n\r\n        <ng-template #sinUbicacion>\r\n          <div class=\"empty-location-state\">\r\n            <p class=\"hint\">Sin ubicación guardada.</p>\r\n            <ion-button expand=\"block\" color=\"medium\" (click)=\"obtenerUbicacion()\">\r\n              <ion-icon name=\"navigate-circle-outline\" slot=\"start\"></ion-icon>\r\n              Obtener ubicación\r\n            </ion-button>\r\n          </div>\r\n        </ng-template>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <!-- Botón de acción principal (Completar/Pendiente) -->\r\n    <div class=\"actions-container\">\r\n      <ion-button expand=\"block\" [color]=\"tarea.completada ? 'medium' : 'success'\" class=\"action-btn\"\r\n        (click)=\"toggleEstado()\">\r\n        <ion-icon [name]=\"tarea.completada ? 'arrow-undo' : 'checkmark-circle'\" slot=\"start\"></ion-icon>\r\n        {{ tarea.completada ? 'Marcar como Pendiente' : 'Marcar como Completada' }}\r\n      </ion-button>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <!-- Estado vacío si no encuentra ID -->\r\n  <ng-template #noEncontrada>\r\n    <div class=\"empty-state centered\">\r\n      <ion-icon name=\"alert-circle-outline\" color=\"medium\" size=\"large\"></ion-icon>\r\n      <h3>Tarea no encontrada</h3>\r\n      <p>Es posible que esta tarea haya sido eliminada.</p>\r\n      <ion-button fill=\"clear\" (click)=\"volver()\">Volver al inicio</ion-button>\r\n    </div>\r\n  </ng-template>\r\n</ion-content>","/* src/app/detalle-tarea/detalle-tarea.page.scss */\n.detail-content {\n  --background: var(--ion-background-color);\n}\n.detail-container {\n  max-width: 800px;\n  margin: 0 auto;\n  padding-top: 16px;\n}\n.note-detail-card {\n  background-color: var(--note-bg, #fff);\n  border-radius: 24px;\n  padding: 32px;\n  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);\n  margin-bottom: 32px;\n  position: relative;\n  overflow: hidden;\n}\n.note-detail-card:not([style*=--note-bg]) {\n  background-color: var(--ion-card-background);\n}\n.detail-header {\n  margin-bottom: 24px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  padding-bottom: 16px;\n}\n.detail-title {\n  font-size: 28px;\n  font-weight: 700;\n  margin: 0 0 12px 0;\n  color: #222;\n  line-height: 1.2;\n}\n.detail-meta {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.6);\n}\n.date {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n.date ion-icon {\n  font-size: 16px;\n}\n.status-badge {\n  padding: 4px 12px;\n  border-radius: 20px;\n  background: rgba(0, 0, 0, 0.05);\n  font-weight: 600;\n  font-size: 12px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n.status-badge.done {\n  background: var(--ion-color-success);\n  color: #fff;\n}\n.detail-body {\n  font-size: 18px;\n  line-height: 1.6;\n  color: #333;\n  white-space: pre-wrap;\n}\nbody.dark .note-detail-card:not([style*=--note-bg]) .detail-title {\n  color: var(--ion-text-color);\n}\nbody.dark .note-detail-card:not([style*=--note-bg]) .detail-body {\n  color: var(--ion-text-color);\n}\nbody.dark .note-detail-card:not([style*=--note-bg]) .detail-meta {\n  color: var(--ion-color-medium);\n}\n.actions-container {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.action-btn {\n  height: 56px;\n  font-size: 16px;\n  font-weight: 600;\n  --border-radius: 16px;\n  --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n.empty-state {\n  text-align: center;\n  margin-top: 100px;\n}\n.empty-state ion-icon {\n  font-size: 64px;\n  margin-bottom: 16px;\n}\n.empty-state p {\n  font-size: 18px;\n  color: var(--ion-color-medium);\n}\n.foto-section,\n.ubicacion-section {\n  margin-top: 16px;\n  margin-bottom: 16px;\n}\n.foto-preview {\n  margin-bottom: 8px;\n}\n.foto-preview img {\n  width: 100%;\n  max-height: 220px;\n  border-radius: 12px;\n  object-fit: cover;\n  display: block;\n}\n.hint {\n  font-size: 0.85rem;\n  color: #6b7280;\n}\n/*# sourceMappingURL=detalle-tarea.page.css.map */\n","export var CameraSource;\n(function (CameraSource) {\n    /**\n     * Prompts the user to select either the photo album or take a photo.\n     */\n    CameraSource[\"Prompt\"] = \"PROMPT\";\n    /**\n     * Take a new photo using the camera.\n     */\n    CameraSource[\"Camera\"] = \"CAMERA\";\n    /**\n     * Pick an existing photo from the gallery or photo album.\n     */\n    CameraSource[\"Photos\"] = \"PHOTOS\";\n})(CameraSource || (CameraSource = {}));\nexport var CameraDirection;\n(function (CameraDirection) {\n    CameraDirection[\"Rear\"] = \"REAR\";\n    CameraDirection[\"Front\"] = \"FRONT\";\n})(CameraDirection || (CameraDirection = {}));\nexport var CameraResultType;\n(function (CameraResultType) {\n    CameraResultType[\"Uri\"] = \"uri\";\n    CameraResultType[\"Base64\"] = \"base64\";\n    CameraResultType[\"DataUrl\"] = \"dataUrl\";\n})(CameraResultType || (CameraResultType = {}));\n","import { WebPlugin, CapacitorException } from '@capacitor/core';\nimport { CameraSource, CameraDirection } from './definitions';\nexport class CameraWeb extends WebPlugin {\n    async getPhoto(options) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve, reject) => {\n            if (options.webUseInput || options.source === CameraSource.Photos) {\n                this.fileInputExperience(options, resolve, reject);\n            }\n            else if (options.source === CameraSource.Prompt) {\n                let actionSheet = document.querySelector('pwa-action-sheet');\n                if (!actionSheet) {\n                    actionSheet = document.createElement('pwa-action-sheet');\n                    document.body.appendChild(actionSheet);\n                }\n                actionSheet.header = options.promptLabelHeader || 'Photo';\n                actionSheet.cancelable = false;\n                actionSheet.options = [\n                    { title: options.promptLabelPhoto || 'From Photos' },\n                    { title: options.promptLabelPicture || 'Take Picture' },\n                ];\n                actionSheet.addEventListener('onSelection', async (e) => {\n                    const selection = e.detail;\n                    if (selection === 0) {\n                        this.fileInputExperience(options, resolve, reject);\n                    }\n                    else {\n                        this.cameraExperience(options, resolve, reject);\n                    }\n                });\n            }\n            else {\n                this.cameraExperience(options, resolve, reject);\n            }\n        });\n    }\n    async pickImages(_options) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve, reject) => {\n            this.multipleFileInputExperience(resolve, reject);\n        });\n    }\n    async cameraExperience(options, resolve, reject) {\n        if (customElements.get('pwa-camera-modal')) {\n            const cameraModal = document.createElement('pwa-camera-modal');\n            cameraModal.facingMode =\n                options.direction === CameraDirection.Front ? 'user' : 'environment';\n            document.body.appendChild(cameraModal);\n            try {\n                await cameraModal.componentOnReady();\n                cameraModal.addEventListener('onPhoto', async (e) => {\n                    const photo = e.detail;\n                    if (photo === null) {\n                        reject(new CapacitorException('User cancelled photos app'));\n                    }\n                    else if (photo instanceof Error) {\n                        reject(photo);\n                    }\n                    else {\n                        resolve(await this._getCameraPhoto(photo, options));\n                    }\n                    cameraModal.dismiss();\n                    document.body.removeChild(cameraModal);\n                });\n                cameraModal.present();\n            }\n            catch (e) {\n                this.fileInputExperience(options, resolve, reject);\n            }\n        }\n        else {\n            console.error(`Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements.`);\n            this.fileInputExperience(options, resolve, reject);\n        }\n    }\n    fileInputExperience(options, resolve, reject) {\n        let input = document.querySelector('#_capacitor-camera-input');\n        const cleanup = () => {\n            var _a;\n            (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n        };\n        if (!input) {\n            input = document.createElement('input');\n            input.id = '_capacitor-camera-input';\n            input.type = 'file';\n            input.hidden = true;\n            document.body.appendChild(input);\n            input.addEventListener('change', (_e) => {\n                const file = input.files[0];\n                let format = 'jpeg';\n                if (file.type === 'image/png') {\n                    format = 'png';\n                }\n                else if (file.type === 'image/gif') {\n                    format = 'gif';\n                }\n                if (options.resultType === 'dataUrl' ||\n                    options.resultType === 'base64') {\n                    const reader = new FileReader();\n                    reader.addEventListener('load', () => {\n                        if (options.resultType === 'dataUrl') {\n                            resolve({\n                                dataUrl: reader.result,\n                                format,\n                            });\n                        }\n                        else if (options.resultType === 'base64') {\n                            const b64 = reader.result.split(',')[1];\n                            resolve({\n                                base64String: b64,\n                                format,\n                            });\n                        }\n                        cleanup();\n                    });\n                    reader.readAsDataURL(file);\n                }\n                else {\n                    resolve({\n                        webPath: URL.createObjectURL(file),\n                        format: format,\n                    });\n                    cleanup();\n                }\n            });\n            input.addEventListener('cancel', (_e) => {\n                reject(new CapacitorException('User cancelled photos app'));\n                cleanup();\n            });\n        }\n        input.accept = 'image/*';\n        input.capture = true;\n        if (options.source === CameraSource.Photos ||\n            options.source === CameraSource.Prompt) {\n            input.removeAttribute('capture');\n        }\n        else if (options.direction === CameraDirection.Front) {\n            input.capture = 'user';\n        }\n        else if (options.direction === CameraDirection.Rear) {\n            input.capture = 'environment';\n        }\n        input.click();\n    }\n    multipleFileInputExperience(resolve, reject) {\n        let input = document.querySelector('#_capacitor-camera-input-multiple');\n        const cleanup = () => {\n            var _a;\n            (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n        };\n        if (!input) {\n            input = document.createElement('input');\n            input.id = '_capacitor-camera-input-multiple';\n            input.type = 'file';\n            input.hidden = true;\n            input.multiple = true;\n            document.body.appendChild(input);\n            input.addEventListener('change', (_e) => {\n                const photos = [];\n                // eslint-disable-next-line @typescript-eslint/prefer-for-of\n                for (let i = 0; i < input.files.length; i++) {\n                    const file = input.files[i];\n                    let format = 'jpeg';\n                    if (file.type === 'image/png') {\n                        format = 'png';\n                    }\n                    else if (file.type === 'image/gif') {\n                        format = 'gif';\n                    }\n                    photos.push({\n                        webPath: URL.createObjectURL(file),\n                        format: format,\n                    });\n                }\n                resolve({ photos });\n                cleanup();\n            });\n            input.addEventListener('cancel', (_e) => {\n                reject(new CapacitorException('User cancelled photos app'));\n                cleanup();\n            });\n        }\n        input.accept = 'image/*';\n        input.click();\n    }\n    _getCameraPhoto(photo, options) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            const format = photo.type.split('/')[1];\n            if (options.resultType === 'uri') {\n                resolve({\n                    webPath: URL.createObjectURL(photo),\n                    format: format,\n                    saved: false,\n                });\n            }\n            else {\n                reader.readAsDataURL(photo);\n                reader.onloadend = () => {\n                    const r = reader.result;\n                    if (options.resultType === 'dataUrl') {\n                        resolve({\n                            dataUrl: r,\n                            format: format,\n                            saved: false,\n                        });\n                    }\n                    else {\n                        resolve({\n                            base64String: r.split(',')[1],\n                            format: format,\n                            saved: false,\n                        });\n                    }\n                };\n                reader.onerror = e => {\n                    reject(e);\n                };\n            }\n        });\n    }\n    async checkPermissions() {\n        if (typeof navigator === 'undefined' || !navigator.permissions) {\n            throw this.unavailable('Permissions API not available in this browser');\n        }\n        try {\n            // https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query\n            // the specific permissions that are supported varies among browsers that implement the\n            // permissions API, so we need a try/catch in case 'camera' is invalid\n            const permission = await window.navigator.permissions.query({\n                name: 'camera',\n            });\n            return {\n                camera: permission.state,\n                photos: 'granted',\n            };\n        }\n        catch (_a) {\n            throw this.unavailable('Camera permissions are not available in this browser');\n        }\n    }\n    async requestPermissions() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async pickLimitedLibraryPhotos() {\n        throw this.unavailable('Not implemented on web.');\n    }\n    async getLimitedLibraryPhotos() {\n        throw this.unavailable('Not implemented on web.');\n    }\n}\nconst Camera = new CameraWeb();\nexport { Camera };\n","import { registerPlugin } from '@capacitor/core';\nimport { CameraWeb } from './web';\nconst Camera = registerPlugin('Camera', {\n    web: () => new CameraWeb(),\n});\nexport * from './definitions';\nexport { Camera };\n","function s(t) {\n  t.CapacitorUtils.Synapse = new Proxy(\n    {},\n    {\n      get(e, n) {\n        return new Proxy({}, {\n          get(w, o) {\n            return (c, p, r) => {\n              const i = t.Capacitor.Plugins[n];\n              if (i === void 0) {\n                r(new Error(`Capacitor plugin ${n} not found`));\n                return;\n              }\n              if (typeof i[o] != \"function\") {\n                r(new Error(`Method ${o} not found in Capacitor plugin ${n}`));\n                return;\n              }\n              (async () => {\n                try {\n                  const a = await i[o](c);\n                  p(a);\n                } catch (a) {\n                  r(a);\n                }\n              })();\n            };\n          }\n        });\n      }\n    }\n  );\n}\nfunction u(t) {\n  t.CapacitorUtils.Synapse = new Proxy(\n    {},\n    {\n      get(e, n) {\n        return t.cordova.plugins[n];\n      }\n    }\n  );\n}\nfunction f(t = !1) {\n  typeof window > \"u\" || (window.CapacitorUtils = window.CapacitorUtils || {}, window.Capacitor !== void 0 && !t ? s(window) : window.cordova !== void 0 && u(window));\n}\nexport {\n  f as exposeSynapse\n};\n","export {};\n","import { registerPlugin } from '@capacitor/core';\nimport { exposeSynapse } from '@capacitor/synapse';\nconst Geolocation = registerPlugin('Geolocation', {\n    web: () => import('./web').then((m) => new m.GeolocationWeb()),\n});\nexposeSynapse();\nexport * from './definitions';\nexport { Geolocation };\n","import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { IonicModule, AlertController, ToastController } from '@ionic/angular';\r\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\r\nimport { Geolocation } from '@capacitor/geolocation';\r\n\r\n// Definición de tipos para las claves de color de la nota\r\ntype NoteColorKey = 'sun' | 'sky' | 'mint' | 'lavender' | 'peach' | 'gray';\r\n\r\n\r\n/**\r\n * Componente para mostrar y gestionar el detalle de una tarea.\r\n * Permite tomar fotos, obtener ubicación y cambiar el estado de la tarea.\r\n */\r\n@Component({\r\n    selector: 'app-detalle-tarea',\r\n    standalone: true,\r\n    templateUrl: './detalle-tarea.page.html',\r\n    styleUrls: ['./detalle-tarea.page.scss'],\r\n    imports: [CommonModule, IonicModule]\r\n})\r\nexport class DetalleTareaPage implements OnInit {\r\n    // La tarea actual cargada\r\n    tarea: any;\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        private alertCtrl: AlertController,\r\n        private toastCtrl: ToastController\r\n    ) {}\r\n\r\n    /**\r\n     * Ciclo de vida de Angular. Carga la tarea al iniciar el componente.\r\n     */\r\n    ngOnInit() {\r\n        this.cargarTarea();\r\n    }\r\n\r\n    /**\r\n     * Ciclo de vida de Ionic. Se ejecuta cada vez que la vista va a ser visible,\r\n     * asegurando que los datos se recarguen (ej. al volver de editar).\r\n     */\r\n    ionViewWillEnter() {\r\n        this.cargarTarea();\r\n    }\r\n\r\n    /**\r\n     * Obtiene el color de fondo de la nota basado en la clave.\r\n     * @param c Clave de color opcional.\r\n     * @returns Estilo CSS con el color de fondo.\r\n     */\r\n\r\n    /**\r\n     * Carga la tarea desde el localStorage utilizando el 'id' de la URL.\r\n     */\r\n    cargarTarea() {\r\n        // Obtiene el ID de los parámetros de la ruta\r\n        const id = Number(this.route.snapshot.paramMap.get('id'));\r\n        // Carga todas las tareas guardadas\r\n        const tareasGuardadas = JSON.parse(localStorage.getItem('tareas') || '[]');\r\n        // Busca la tarea por ID\r\n        this.tarea = tareasGuardadas.find((t: any) => t.id === id);\r\n\r\n        // Opcional: Redirigir si la tarea no existe\r\n        if (!this.tarea) {\r\n            this.router.navigate(['/home']);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Guarda la versión actualizada de la tarea en localStorage.\r\n     */\r\n    private guardarTareaActualizada() {\r\n        const tareasGuardadas = JSON.parse(localStorage.getItem('tareas') || '[]');\r\n        const index = tareasGuardadas.findIndex((t: any) => t.id === this.tarea.id);\r\n        if (index !== -1) {\r\n            tareasGuardadas[index] = this.tarea;\r\n            localStorage.setItem('tareas', JSON.stringify(tareasGuardadas));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Usa la cámara para tomar una foto y la guarda en la tarea.\r\n     */\r\n    async tomarFoto() {\r\n        try {\r\n            const image = await Camera.getPhoto({\r\n                quality: 70,\r\n                resultType: CameraResultType.DataUrl,\r\n                source: CameraSource.Camera, \r\n            });\r\n\r\n            if (image && image.dataUrl) {\r\n                // Se usa 'fotoData' para ser consistente con el método borrarFoto\r\n                this.tarea.fotoData = image.dataUrl;\r\n                this.guardarTareaActualizada();\r\n\r\n                const toast = await this.toastCtrl.create({\r\n                    message: 'Foto guardada en la tarea',\r\n                    duration: 2000,\r\n                    color: 'success',\r\n                });\r\n                await toast.present();\r\n            }\r\n        } catch (err) {\r\n            console.error('[Camera] Error', err);\r\n            const toast = await this.toastCtrl.create({\r\n                message: 'No se pudo tomar la foto',\r\n                duration: 2000,\r\n                color: 'danger',\r\n            });\r\n            await toast.present();\r\n        }\r\n    } // <--- Cierre de tomarFoto()\r\n\r\n    /**\r\n     * Elimina la foto asociada a la tarea.\r\n     * Se cambió 'foto' por 'fotoData' para consistencia.\r\n     */\r\n    async borrarFoto() {\r\n        if (!this.tarea) return;\r\n\r\n        const tareasGuardadas = JSON.parse(localStorage.getItem('tareas') || '[]');\r\n        const index = tareasGuardadas.findIndex((t: any) => t.id === this.tarea.id);\r\n\r\n        if (index !== -1) {\r\n            // Usamos 'fotoData' para ser consistente con tomarFoto()\r\n            tareasGuardadas[index].fotoData = null;\r\n            localStorage.setItem('tareas', JSON.stringify(tareasGuardadas));\r\n\r\n            this.tarea.fotoData = null;\r\n\r\n            const toast = await this.toastCtrl.create({\r\n                message: 'Foto eliminada correctamente',\r\n                duration: 2000,\r\n                color: 'warning'\r\n            });\r\n            await toast.present();\r\n        } \r\n    }\r\n\r\n    /**\r\n     * Obtiene la ubicación GPS actual y la guarda en la tarea.\r\n     */\r\n    async obtenerUbicacion() {\r\n        try {\r\n            const position = await Geolocation.getCurrentPosition();\r\n\r\n            this.tarea.lat = position.coords.latitude;\r\n            this.tarea.lng = position.coords.longitude;\r\n            this.guardarTareaActualizada();\r\n\r\n            const toast = await this.toastCtrl.create({\r\n                message: 'Ubicación guardada en la tarea',\r\n                duration: 2000,\r\n                color: 'success',\r\n            });\r\n            await toast.present();\r\n        } catch (err) {\r\n            console.error('[Geo] Error', err);\r\n            const toast = await this.toastCtrl.create({\r\n                message: 'No se pudo obtener la ubicación',\r\n                duration: 2000,\r\n                color: 'danger',\r\n            });\r\n            await toast.present();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Abre Google Maps con las coordenadas guardadas de la tarea.\r\n     */\r\n    verEnMapa() {\r\n        if (!this.tarea?.lat || !this.tarea?.lng) { return; }\r\n        const url = `https://www.google.com/maps?q=${this.tarea.lat},${this.tarea.lng}`;\r\n        window.open(url, '_blank');\r\n    }\r\n\r\n    /**\r\n     * Navega de vuelta a la página de inicio.\r\n     */\r\n    volver() {\r\n        this.router.navigate(['/home']);\r\n    }\r\n\r\n    /**\r\n     * Cambia el estado de completada de la tarea y lo guarda.\r\n     */\r\n    toggleEstado() {\r\n        const tareasGuardadas = JSON.parse(localStorage.getItem('tareas') || '[]');\r\n        const index = tareasGuardadas.findIndex((t: any) => t.id === this.tarea.id);\r\n        \r\n        if (index !== -1) {\r\n            // Actualiza el estado y la fecha de actualización\r\n            tareasGuardadas[index].completada = !tareasGuardadas[index].completada;\r\n            tareasGuardadas[index].updatedAt = new Date().toISOString();\r\n            \r\n            localStorage.setItem('tareas', JSON.stringify(tareasGuardadas));\r\n            \r\n            // Actualiza la tarea en el componente\r\n            this.tarea.completada = tareasGuardadas[index].completada;\r\n            this.tarea.updatedAt = tareasGuardadas[index].updatedAt;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Navega a la página de edición de la tarea.\r\n     */\r\n    editar() {\r\n        this.router.navigate(['/editar-tarea', this.tarea.id]);\r\n    }\r\n\r\n    /**\r\n     * Muestra una alerta de confirmación antes de eliminar la tarea.\r\n     */\r\n    async eliminar() {\r\n        const alerta = await this.alertCtrl.create({\r\n            header: 'Confirmar eliminación',\r\n            message: '¿Estás seguro de que deseas eliminar esta tarea?',\r\n            buttons: [\r\n                { text: 'Cancelar', role: 'cancel' },\r\n                {\r\n                    text: 'Eliminar',\r\n                    handler: async () => {\r\n                        const tareasGuardadas = JSON.parse(localStorage.getItem('tareas') || '[]');\r\n                        const nuevasTareas = tareasGuardadas.filter((t: any) => t.id !== this.tarea.id);\r\n                        localStorage.setItem('tareas', JSON.stringify(nuevasTareas));\r\n\r\n                        const toast = await this.toastCtrl.create({\r\n                            message: 'Tarea eliminada correctamente',\r\n                            duration: 2000,\r\n                            color: 'danger'\r\n                        });\r\n                        await toast.present();\r\n\r\n                        this.router.navigate(['/home']);\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n\r\n        await alerta.present();\r\n    }\r\n}","import { ComponentFixture, TestBed } from '@angular/core/testing';\r\nimport { DetalleTareaPage } from './detalle-tarea.page';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AlertController, ToastController, NavController } from '@ionic/angular';\r\n\r\ndescribe('DetalleTareaPage', () => {\r\n  let component: DetalleTareaPage;\r\n  let fixture: ComponentFixture<DetalleTareaPage>;\r\n\r\n  beforeEach(async () => {\r\n    await TestBed.configureTestingModule({\r\n      imports: [DetalleTareaPage],\r\n      providers: [\r\n        {\r\n          provide: ActivatedRoute,\r\n          useValue: {\r\n            snapshot: {\r\n              paramMap: { get: () => '1' }\r\n            }\r\n          }\r\n        },\r\n        { provide: Router, useValue: { navigate: jasmine.createSpy('navigate') } },\r\n        {\r\n          provide: AlertController,\r\n          useValue: {\r\n            create: jasmine.createSpy('create').and.returnValue(Promise.resolve({ present: () => Promise.resolve() }))\r\n          }\r\n        },\r\n        {\r\n          provide: ToastController,\r\n          useValue: {\r\n            create: jasmine.createSpy('create').and.returnValue(Promise.resolve({ present: () => Promise.resolve() }))\r\n          }\r\n        },\r\n        {\r\n          provide: NavController,\r\n          useValue: jasmine.createSpyObj('NavController', ['navigateForward', 'navigateBack'])\r\n        }\r\n      ]\r\n    }).compileComponents();\r\n\r\n    fixture = TestBed.createComponent(DetalleTareaPage);\r\n    component = fixture.componentInstance;\r\n  });\r\n\r\n  it('should create', () => {\r\n    spyOn(localStorage, 'getItem').and.returnValue(JSON.stringify([]));\r\n    fixture.detectChanges();\r\n    expect(component).toBeTruthy();\r\n  });\r\n\r\n  it('toggleEstado() should change completada and update date', () => {\r\n    const mockTask = { id: 1, titulo: 'Test', completada: false, updatedAt: '2023-01-01T00:00:00.000Z' };\r\n    spyOn(localStorage, 'getItem').and.returnValue(JSON.stringify([mockTask]));\r\n    spyOn(localStorage, 'setItem');\r\n\r\n    fixture.detectChanges();\r\n\r\n    component.toggleEstado();\r\n\r\n    expect(component.tarea.completada).toBeTrue();\r\n    expect(component.tarea.updatedAt).not.toBe('2023-01-01T00:00:00.000Z');\r\n    expect(localStorage.setItem).toHaveBeenCalled();\r\n  });\r\n\r\n  it('borrarFoto() should clear fotoData', async () => {\r\n    const mockTask = { id: 1, titulo: 'Test', fotoData: 'base64-image' };\r\n    spyOn(localStorage, 'getItem').and.returnValue(JSON.stringify([mockTask]));\r\n    spyOn(localStorage, 'setItem');\r\n\r\n    fixture.detectChanges();\r\n\r\n    await component.borrarFoto();\r\n\r\n    expect(component.tarea.fotoData).toBeNull();\r\n    expect(localStorage.setItem).toHaveBeenCalled();\r\n  });\r\n});\r\n"],"mappings":"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","names":["detalle_tarea_page_default","init_detalle_tarea_page","CameraSource","CameraDirection","CameraResultType","Camera","init_definitions","init_esm","init_definitions","init_esm","DetalleTareaPage","Camera","init_detalle_tarea_page"],"x_google_ignoreList":[2,3,4,5,6,7]}