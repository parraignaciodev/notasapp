{
  "version": 3,
  "sources": ["angular:jit:template:src\\app\\login\\login.page.html", "angular:jit:style:src\\app\\login\\login.page.scss", "src/app/login/login.page.ts", "src/app/login/login.page.spec.ts"],
  "sourcesContent": ["<ion-header [translucent]=\"true\">\r\n  <ion-toolbar>\r\n    <ion-title class=\"app-title\">apunta!</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content fullscreen class=\"login-content\">\r\n  <div class=\"login-container\">\r\n    <h1 class=\"login-title\">\u00A1Bienvenido!</h1>\r\n    <p class=\"subtitle\">Aqu\u00ED comienza todo</p>\r\n\r\n    <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\">\r\n      \r\n      <!-- USUARIO -->\r\n      <ion-item>\r\n        <ion-label position=\"floating\">Usuario</ion-label>\r\n        <ion-input formControlName=\"usuario\"></ion-input>\r\n      </ion-item>\r\n\r\n      <ion-text color=\"danger\" *ngIf=\"loginForm.get('usuario')?.touched && loginForm.get('usuario')?.invalid\">\r\n        <ion-note *ngIf=\"loginForm.get('usuario')?.hasError('required')\">\r\n          El usuario es requerido.\r\n        </ion-note>\r\n        <ion-note *ngIf=\"loginForm.get('usuario')?.hasError('minlength')\">\r\n          Debe tener al menos 3 caracteres.\r\n        </ion-note>\r\n        <ion-note *ngIf=\"loginForm.get('usuario')?.hasError('maxlength')\">\r\n          No puede superar los 16 caracteres.\r\n        </ion-note>\r\n        <ion-note *ngIf=\"loginForm.get('usuario')?.hasError('pattern')\">\r\n          Solo se permiten letras, n\u00FAmeros y los s\u00EDmbolos . _ -\r\n        </ion-note>\r\n      </ion-text>\r\n\r\n      <!-- CONTRASE\u00D1A -->\r\n      <ion-item>\r\n        <ion-label position=\"floating\">Contrase\u00F1a</ion-label>\r\n        <ion-input type=\"password\" formControlName=\"clave\"></ion-input>\r\n      </ion-item>\r\n\r\n      <ion-text color=\"danger\" *ngIf=\"loginForm.get('clave')?.touched && loginForm.get('clave')?.invalid\">\r\n        <ion-note *ngIf=\"loginForm.get('clave')?.hasError('required')\">\r\n          La contrase\u00F1a es requerida.\r\n        </ion-note>\r\n        <ion-note *ngIf=\"loginForm.get('clave')?.hasError('pattern')\">\r\n          Debe tener m\u00EDnimo 8 caracteres, incluir una may\u00FAscula, una min\u00FAscula, un n\u00FAmero y un s\u00EDmbolo.\r\n        </ion-note>\r\n      </ion-text>\r\n\r\n      <ion-button expand=\"block\" type=\"submit\" class=\"btn-login\">Ingresar</ion-button>\r\n    </form>\r\n\r\n    <p class=\"create-account\">\r\n      <ion-button fill=\"clear\" routerLink=\"/register\">Crea tu cuenta gratis</ion-button>\r\n    </p>\r\n  </div>\r\n</ion-content>\r\n\r\n\r\n", "/* src/app/login/login.page.scss */\n.login-content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 16px;\n}\n.login-container {\n  width: 100%;\n  max-width: 400px;\n  margin: 0 auto;\n  text-align: center;\n}\n.login-container h1.login-title {\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 8px;\n  color: var(--ion-color-primary);\n}\n.login-container .subtitle {\n  font-size: 1rem;\n  margin-bottom: 24px;\n  color: var(--ion-color-medium);\n}\n.login-container form ion-item {\n  margin-bottom: 12px;\n  border-radius: 8px;\n  --background: var(--ion-color-light);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);\n}\n.login-container form .btn-login {\n  margin-top: 16px;\n  --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n.login-container .create-account {\n  margin-top: 24px;\n  font-size: 0.9rem;\n  color: var(--ion-color-medium);\n}\n.login-container .create-account a {\n  color: var(--ion-color-primary);\n  text-decoration: none;\n  font-weight: 500;\n}\n/*# sourceMappingURL=login.page.css.map */\n", "import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NavController, AlertController, IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AuthService } from '../services/auth.service';  // Importa tu servicio\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    RouterModule\r\n  ]\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  loginForm = this.fb.group({\r\n    usuario: [\r\n      '',\r\n      [\r\n        Validators.required,\r\n        Validators.minLength(3),\r\n        Validators.maxLength(16),\r\n        // opcional: restringir a letras/números/._-\r\n        Validators.pattern(/^[a-zA-Z0-9._-]{3,16}$/),\r\n      ],\r\n    ],\r\n    clave: [\r\n      '',\r\n      [\r\n        Validators.required,\r\n        // min 8, al menos 1 minúscula, 1 mayúscula, 1 número y 1 símbolo\r\n        Validators.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^A-Za-z0-9]).{8,}$/),\r\n      ],\r\n    ],\r\n  });\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private navCtrl: NavController,\r\n    private alertCtrl: AlertController,\r\n    private authService: AuthService  // Inyecta el servicio aquí\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  async onSubmit() {\r\n    if (this.loginForm.valid) {\r\n      const usuario = this.loginForm.get('usuario')?.value;\r\n      const clave = this.loginForm.get('clave')?.value;\r\n\r\n      if (usuario && clave) {\r\n        const esValido = this.authService.validarUsuario(usuario, clave);\r\n        if (esValido) {\r\n          this.authService.login(usuario);\r\n          this.navCtrl.navigateForward('/home');\r\n        } else {\r\n          const alert = await this.alertCtrl.create({\r\n            header: 'Error',\r\n            message: 'Usuario o contraseña incorrectos',\r\n            buttons: ['OK']\r\n          });\r\n          await alert.present();\r\n        }\r\n      } else {\r\n        const alert = await this.alertCtrl.create({\r\n          header: 'Formulario inválido',\r\n          message: 'El usuario y la clave no pueden estar vacíos.',\r\n          buttons: ['OK']\r\n        });\r\n        await alert.present();\r\n      }\r\n\r\n    } else {\r\n      const alert = await this.alertCtrl.create({\r\n        header: 'Formulario inválido',\r\n        message: 'Verifica que el usuario y la contraseña cumplan los requisitos.',\r\n        buttons: ['OK']\r\n      });\r\n      await alert.present();\r\n    }\r\n  }\r\n}\r\n\r\n", "import { ComponentFixture, TestBed } from '@angular/core/testing';\r\nimport { LoginPage } from './login.page';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { of } from 'rxjs';\r\n\r\ndescribe('LoginPage', () => {\r\n  let component: LoginPage;\r\n  let fixture: ComponentFixture<LoginPage>;\r\n\r\n  beforeEach(async () => {\r\n    await TestBed.configureTestingModule({\r\n      imports: [LoginPage],\r\n      providers: [\r\n        {\r\n          provide: ActivatedRoute,\r\n          useValue: {\r\n            params: of({}),\r\n            snapshot: { paramMap: { get: () => null } }\r\n          }\r\n        }\r\n      ]\r\n    }).compileComponents();\r\n\r\n    fixture = TestBed.createComponent(LoginPage);\r\n    component = fixture.componentInstance;\r\n    fixture.detectChanges();\r\n  });\r\n\r\n  it('should create', () => {\r\n    expect(component).toBeTruthy();\r\n  });\r\n});\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,IAAAA;AAAA,IAAAC,mBAAA;AAAA;AAAA,IAAAD,sBAAA;AAAA;AAAA;;;ICoBa;;;;;;;AApBb;AACA;AACA;AACA;AACA;AACA;AAeO,IAAM,YAAN,MAAME,WAAS;MAuBpB,YACU,IACA,SACA,WACA;AAHA,aAAA,KAAA;AACA,aAAA,UAAA;AACA,aAAA,YAAA;AACA,aAAA,cAAA;AAzBV,aAAA,YAAY,KAAK,GAAG,MAAM;UACxB,SAAS;YACP;YACA;cACE,WAAW;cACX,WAAW,UAAU,CAAC;cACtB,WAAW,UAAU,EAAE;;cAEvB,WAAW,QAAQ,wBAAwB;;;UAG/C,OAAO;YACL;YACA;cACE,WAAW;;cAEX,WAAW,QAAQ,yDAAyD;;;SAGjF;MAOE;MAEH,WAAQ;MAAI;MAEN,WAAQ;;AACZ,cAAI,KAAK,UAAU,OAAO;AACxB,kBAAM,UAAU,KAAK,UAAU,IAAI,SAAS,GAAG;AAC/C,kBAAM,QAAQ,KAAK,UAAU,IAAI,OAAO,GAAG;AAE3C,gBAAI,WAAW,OAAO;AACpB,oBAAM,WAAW,KAAK,YAAY,eAAe,SAAS,KAAK;AAC/D,kBAAI,UAAU;AACZ,qBAAK,YAAY,MAAM,OAAO;AAC9B,qBAAK,QAAQ,gBAAgB,OAAO;cACtC,OAAO;AACL,sBAAM,QAAQ,MAAM,KAAK,UAAU,OAAO;kBACxC,QAAQ;kBACR,SAAS;kBACT,SAAS,CAAC,IAAI;iBACf;AACD,sBAAM,MAAM,QAAO;cACrB;YACF,OAAO;AACL,oBAAM,QAAQ,MAAM,KAAK,UAAU,OAAO;gBACxC,QAAQ;gBACR,SAAS;gBACT,SAAS,CAAC,IAAI;eACf;AACD,oBAAM,MAAM,QAAO;YACrB;UAEF,OAAO;AACL,kBAAM,QAAQ,MAAM,KAAK,UAAU,OAAO;cACxC,QAAQ;cACR,SAAS;cACT,SAAS,CAAC,IAAI;aACf;AACD,kBAAM,MAAM,QAAO;UACrB;QACF;;;;;;;;;;;AAnEW,gBAAS,WAAA;MAbrB,UAAU;QACT,UAAU;QACV,UAAA;QAEA,YAAY;QACZ,SAAS;UACP;UACA;UACA;UACA;UACA;;;OAEH;OACY,SAAS;;;;;ACpBtB;;;AACA,IAAAC;AACA;AACA;AAEA,aAAS,aAAa,MAAK;AACzB,UAAI;AACJ,UAAI;AAEJ,iBAAW,MAAW;AACpB,cAAM,QAAQ,uBAAuB;UACnC,SAAS,CAAC,SAAS;UACnB,WAAW;YACT;cACE,SAAS;cACT,UAAU;gBACR,QAAQ,GAAG,CAAA,CAAE;gBACb,UAAU,EAAE,UAAU,EAAE,KAAK,MAAM,KAAI,EAAE;;;;SAIhD,EAAE,kBAAiB;AAEpB,kBAAU,QAAQ,gBAAgB,SAAS;AAC3C,oBAAY,QAAQ;AACpB,gBAAQ,cAAa;MACvB,EAAC;AAED,SAAG,iBAAiB,MAAK;AACvB,eAAO,SAAS,EAAE,WAAU;MAC9B,CAAC;IACH,CAAC;;;",
  "names": ["login_page_default", "init_login_page", "LoginPage", "init_login_page"]
}
