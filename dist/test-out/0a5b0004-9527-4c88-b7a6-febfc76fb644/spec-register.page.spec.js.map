{
  "version": 3,
  "sources": ["src/app/register/register.page.spec.ts", "angular:jit:template:src\\app\\register\\register.page.html", "angular:jit:style:src\\app\\register\\register.page.scss", "src/app/register/register.page.ts"],
  "sourcesContent": ["import { ComponentFixture, TestBed } from '@angular/core/testing';\r\nimport { RegisterPage } from './register.page';\r\n\r\ndescribe('RegisterPage', () => {\r\n  let component: RegisterPage;\r\n  let fixture: ComponentFixture<RegisterPage>;\r\n\r\n  beforeEach(() => {\r\n    fixture = TestBed.createComponent(RegisterPage);\r\n    component = fixture.componentInstance;\r\n    fixture.detectChanges();\r\n  });\r\n\r\n  it('should create', () => {\r\n    expect(component).toBeTruthy();\r\n  });\r\n});\r\n", "<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title class=\"app-title\">Crear Cuenta</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content fullscreen class=\"register-content\">\r\n  <div class=\"register-container\">\r\n    <h2 class=\"register-title\">Reg\u00EDstrate</h2>\r\n\r\n    <form [formGroup]=\"registerForm\" (ngSubmit)=\"onRegister()\">\r\n\r\n      <!-- USUARIO -->\r\n      <ion-item>\r\n        <ion-label position=\"floating\">Usuario</ion-label>\r\n        <ion-input formControlName=\"usuario\"></ion-input>\r\n      </ion-item>\r\n\r\n      <ion-text color=\"danger\" *ngIf=\"registerForm.get('usuario')?.touched && registerForm.get('usuario')?.invalid\">\r\n        <ion-note *ngIf=\"registerForm.get('usuario')?.hasError('required')\">\r\n          El usuario es requerido.\r\n        </ion-note>\r\n        <ion-note *ngIf=\"registerForm.get('usuario')?.hasError('minlength')\">\r\n          Debe tener al menos 3 caracteres.\r\n        </ion-note>\r\n        <ion-note *ngIf=\"registerForm.get('usuario')?.hasError('maxlength')\">\r\n          No puede superar los 16 caracteres.\r\n        </ion-note>\r\n        <ion-note *ngIf=\"registerForm.get('usuario')?.hasError('pattern')\">\r\n          Solo se permiten letras, n\u00FAmeros y los s\u00EDmbolos . _ -\r\n        </ion-note>\r\n      </ion-text>\r\n\r\n      <!-- CONTRASE\u00D1A -->\r\n      <ion-item>\r\n        <ion-label position=\"floating\">Contrase\u00F1a</ion-label>\r\n        <ion-input type=\"password\" formControlName=\"clave\"></ion-input>\r\n      </ion-item>\r\n\r\n      <ion-text color=\"danger\" *ngIf=\"registerForm.get('clave')?.touched && registerForm.get('clave')?.invalid\">\r\n        <ion-note *ngIf=\"registerForm.get('clave')?.hasError('required')\">\r\n          La contrase\u00F1a es requerida.\r\n        </ion-note>\r\n        <ion-note *ngIf=\"registerForm.get('clave')?.hasError('pattern')\">\r\n          Debe tener m\u00EDnimo 8 caracteres, incluir una may\u00FAscula, una min\u00FAscula, un n\u00FAmero y un s\u00EDmbolo.\r\n        </ion-note>\r\n      </ion-text>\r\n\r\n      <ion-button expand=\"block\" type=\"submit\" class=\"btn-register\">Crear Cuenta</ion-button>\r\n    </form>\r\n  </div>\r\n</ion-content>\r\n\r\n\r\n", "/* src/app/register/register.page.scss */\n.register-content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 16px;\n}\n.register-container {\n  width: 100%;\n  max-width: 400px;\n  margin: 0 auto;\n  text-align: center;\n}\n.register-container .register-title {\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 24px;\n  color: var(--ion-color-primary);\n}\n.register-container form ion-item {\n  margin-bottom: 12px;\n  border-radius: 8px;\n  --background: var(--ion-color-light);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);\n}\n.register-container form .btn-register {\n  margin-top: 16px;\n  --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n.register-container form ion-text {\n  font-size: 0.85rem;\n}\n/*# sourceMappingURL=register.page.css.map */\n", "import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NavController, AlertController, IonicModule } from '@ionic/angular';\r\nimport { AuthService } from '../services/auth.service';  // Importar servicio\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, IonicModule],\r\n  templateUrl: './register.page.html',\r\n  styleUrls: ['./register.page.scss'],\r\n})\r\nexport class RegisterPage {\r\n  registerForm: FormGroup;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private navCtrl: NavController,\r\n    private alertCtrl: AlertController,\r\n    private authService: AuthService  // Inyectar AuthService\r\n  ) {\r\n    this.registerForm = this.fb.group({\r\n      usuario: [\r\n        '',\r\n        [\r\n          Validators.required,\r\n          Validators.minLength(3),\r\n          Validators.maxLength(16),\r\n          Validators.pattern(/^[a-zA-Z0-9._-]{3,16}$/),\r\n        ],\r\n      ],\r\n      clave: [\r\n        '',\r\n        [\r\n          Validators.required,\r\n          Validators.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^A-Za-z0-9]).{8,}$/),\r\n        ],\r\n      ],\r\n    });\r\n\r\n  }\r\n\r\n  async onRegister() {\r\n    if (this.registerForm.valid) {\r\n      const { usuario, clave } = this.registerForm.value;\r\n\r\n      const registrado = this.authService.registrarUsuario(usuario, clave);\r\n\r\n      if (registrado) {\r\n        // Registro exitoso, navegar a login\r\n        this.navCtrl.navigateRoot('/login');\r\n      } else {\r\n        // Usuario ya existe, mostrar alerta\r\n        const alert = await this.alertCtrl.create({\r\n          header: 'Error',\r\n          message: 'El usuario ya existe, elige otro nombre.',\r\n          buttons: ['OK']\r\n        });\r\n        await alert.present();\r\n      }\r\n    } else {\r\n      this.registerForm.markAllAsTouched();\r\n    }\r\n  }\r\n}\r\n\r\n\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;A;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,IAAAA,yBAAA;;;ACAA;AACA;AACA;AACA;AACA;AACA;AASO,IAAM,eAAN,MAAMC,cAAY;EAGvB,YACU,IACA,SACA,WACA;AAHA,SAAA,KAAA;AACA,SAAA,UAAA;AACA,SAAA,YAAA;AACA,SAAA,cAAA;AAER,SAAK,eAAe,KAAK,GAAG,MAAM;MAChC,SAAS;QACP;QACA;UACE,WAAW;UACX,WAAW,UAAU,CAAC;UACtB,WAAW,UAAU,EAAE;UACvB,WAAW,QAAQ,wBAAwB;;;MAG/C,OAAO;QACL;QACA;UACE,WAAW;UACX,WAAW,QAAQ,yDAAyD;;;KAGjF;EAEH;EAEM,aAAU;;AACd,UAAI,KAAK,aAAa,OAAO;AAC3B,cAAM,EAAE,SAAS,MAAK,IAAK,KAAK,aAAa;AAE7C,cAAM,aAAa,KAAK,YAAY,iBAAiB,SAAS,KAAK;AAEnE,YAAI,YAAY;AAEd,eAAK,QAAQ,aAAa,QAAQ;QACpC,OAAO;AAEL,gBAAM,QAAQ,MAAM,KAAK,UAAU,OAAO;YACxC,QAAQ;YACR,SAAS;YACT,SAAS,CAAC,IAAI;WACf;AACD,gBAAM,MAAM,QAAO;QACrB;MACF,OAAO;AACL,aAAK,aAAa,iBAAgB;MACpC;IACF;;;;;;;;;;;AAnDW,eAAY,WAAA;EAPxB,UAAU;IACT,UAAU;IACV,YAAY;IACZ,SAAS,CAAC,cAAc,aAAa,qBAAqB,WAAW;IACrE,UAAA;;GAED;GACY,YAAY;;;AHXzB,SAAS,gBAAgB,MAAK;AAC5B,MAAI;AACJ,MAAI;AAEJ,aAAW,MAAK;AACd,cAAU,QAAQ,gBAAgB,YAAY;AAC9C,gBAAY,QAAQ;AACpB,YAAQ,cAAa;EACvB,CAAC;AAED,KAAG,iBAAiB,MAAK;AACvB,WAAO,SAAS,EAAE,WAAU;EAC9B,CAAC;AACH,CAAC;",
  "names": ["register_page_default", "RegisterPage"]
}
