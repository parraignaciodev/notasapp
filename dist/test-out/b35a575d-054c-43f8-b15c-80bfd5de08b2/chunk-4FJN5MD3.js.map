{"version":3,"sources":["node_modules/@ionic/core/dist/esm/ion-segment-view.entry.js"],"sourcesContent":["/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { r as registerInstance, c as createEvent, h, d as Host, g as getElement } from './index-C8IsBmNU.js';\nimport { i as isRTL } from './dir-C53feagD.js';\n\nconst segmentViewIosCss = \":host{display:-ms-flexbox;display:flex;height:100%;overflow-x:scroll;-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;scrollbar-width:none;-ms-overflow-style:none}:host::-webkit-scrollbar{display:none}:host(.segment-view-disabled){-ms-touch-action:none;touch-action:none;overflow-x:hidden}:host(.segment-view-scroll-disabled){pointer-events:none}:host(.segment-view-disabled){opacity:0.3}\";\n\nconst segmentViewMdCss = \":host{display:-ms-flexbox;display:flex;height:100%;overflow-x:scroll;-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;scrollbar-width:none;-ms-overflow-style:none}:host::-webkit-scrollbar{display:none}:host(.segment-view-disabled){-ms-touch-action:none;touch-action:none;overflow-x:hidden}:host(.segment-view-scroll-disabled){pointer-events:none}:host(.segment-view-disabled){opacity:0.3}\";\n\nconst SegmentView = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.ionSegmentViewScroll = createEvent(this, \"ionSegmentViewScroll\", 7);\n        this.scrollEndTimeout = null;\n        this.isTouching = false;\n        /**\n         * If `true`, the segment view cannot be interacted with.\n         */\n        this.disabled = false;\n    }\n    handleScroll(ev) {\n        var _a;\n        const { scrollLeft, scrollWidth, clientWidth } = ev.target;\n        const max = scrollWidth - clientWidth;\n        const scrollRatio = (isRTL(this.el) ? -1 : 1) * (scrollLeft / max);\n        this.ionSegmentViewScroll.emit({\n            scrollRatio,\n            isManualScroll: (_a = this.isManualScroll) !== null && _a !== void 0 ? _a : true,\n        });\n        // Reset the timeout to check for scroll end\n        this.resetScrollEndTimeout();\n    }\n    /**\n     * Handle touch start event to know when the user is actively dragging the segment view.\n     */\n    handleScrollStart() {\n        if (this.scrollEndTimeout) {\n            clearTimeout(this.scrollEndTimeout);\n            this.scrollEndTimeout = null;\n        }\n        this.isTouching = true;\n    }\n    /**\n     * Handle touch end event to know when the user is no longer dragging the segment view.\n     */\n    handleTouchEnd() {\n        this.isTouching = false;\n    }\n    /**\n     * Reset the scroll end detection timer. This is called on every scroll event.\n     */\n    resetScrollEndTimeout() {\n        if (this.scrollEndTimeout) {\n            clearTimeout(this.scrollEndTimeout);\n            this.scrollEndTimeout = null;\n        }\n        this.scrollEndTimeout = setTimeout(() => {\n            this.checkForScrollEnd();\n        }, \n        // Setting this to a lower value may result in inconsistencies in behavior\n        // across browsers (particularly Firefox).\n        // Ideally, all of this logic is removed once the scroll end event is\n        // supported on all browsers (https://caniuse.com/?search=scrollend)\n        100);\n    }\n    /**\n     * Check if the scroll has ended and the user is not actively touching.\n     * If the conditions are met (active content is enabled and no active touch),\n     * reset the scroll position and emit the scroll end event.\n     */\n    checkForScrollEnd() {\n        // Only emit scroll end event if the active content is not disabled and\n        // the user is not touching the segment view\n        if (!this.isTouching) {\n            this.isManualScroll = undefined;\n        }\n    }\n    /**\n     * @internal\n     *\n     * This method is used to programmatically set the displayed segment content\n     * in the segment view. Calling this method will update the `value` of the\n     * corresponding segment button.\n     *\n     * @param id: The id of the segment content to display.\n     * @param smoothScroll: Whether to animate the scroll transition.\n     */\n    async setContent(id, smoothScroll = true) {\n        const contents = this.getSegmentContents();\n        const index = contents.findIndex((content) => content.id === id);\n        if (index === -1)\n            return;\n        this.isManualScroll = false;\n        this.resetScrollEndTimeout();\n        const contentWidth = this.el.offsetWidth;\n        const offset = index * contentWidth;\n        this.el.scrollTo({\n            top: 0,\n            left: (isRTL(this.el) ? -1 : 1) * offset,\n            behavior: smoothScroll ? 'smooth' : 'instant',\n        });\n    }\n    getSegmentContents() {\n        return Array.from(this.el.querySelectorAll('ion-segment-content'));\n    }\n    render() {\n        const { disabled, isManualScroll } = this;\n        return (h(Host, { key: 'e180b67bb3143a5f4611fb358c037be6fc782a8f', class: {\n                'segment-view-disabled': disabled,\n                'segment-view-scroll-disabled': isManualScroll === false,\n            } }, h(\"slot\", { key: '41c11d6a7406a10f5c64a2e73abfc072afd8fc73' })));\n    }\n    get el() { return getElement(this); }\n};\nSegmentView.style = {\n    ios: segmentViewIosCss,\n    md: segmentViewMdCss\n};\n\nexport { SegmentView as ion_segment_view };\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,IAMM,mBAEA,kBAEA;AAVN;AAAA;AAGA;AACA;AAEA,IAAM,oBAAoB;AAE1B,IAAM,mBAAmB;AAEzB,IAAM,cAAc,MAAM;AAAA,MACtB,YAAY,SAAS;AACjB,yBAAiB,MAAM,OAAO;AAC9B,aAAK,uBAAuB,YAAY,MAAM,wBAAwB,CAAC;AACvE,aAAK,mBAAmB;AACxB,aAAK,aAAa;AAIlB,aAAK,WAAW;AAAA,MACpB;AAAA,MACA,aAAa,IAAI;AACb,YAAI;AACJ,cAAM,EAAE,YAAY,aAAa,YAAY,IAAI,GAAG;AACpD,cAAM,MAAM,cAAc;AAC1B,cAAM,eAAe,MAAM,KAAK,EAAE,IAAI,KAAK,MAAM,aAAa;AAC9D,aAAK,qBAAqB,KAAK;AAAA,UAC3B;AAAA,UACA,iBAAiB,KAAK,KAAK,oBAAoB,QAAQ,OAAO,SAAS,KAAK;AAAA,QAChF,CAAC;AAED,aAAK,sBAAsB;AAAA,MAC/B;AAAA;AAAA;AAAA;AAAA,MAIA,oBAAoB;AAChB,YAAI,KAAK,kBAAkB;AACvB,uBAAa,KAAK,gBAAgB;AAClC,eAAK,mBAAmB;AAAA,QAC5B;AACA,aAAK,aAAa;AAAA,MACtB;AAAA;AAAA;AAAA;AAAA,MAIA,iBAAiB;AACb,aAAK,aAAa;AAAA,MACtB;AAAA;AAAA;AAAA;AAAA,MAIA,wBAAwB;AACpB,YAAI,KAAK,kBAAkB;AACvB,uBAAa,KAAK,gBAAgB;AAClC,eAAK,mBAAmB;AAAA,QAC5B;AACA,aAAK,mBAAmB;AAAA,UAAW,MAAM;AACrC,iBAAK,kBAAkB;AAAA,UAC3B;AAAA;AAAA;AAAA;AAAA;AAAA,UAKA;AAAA,QAAG;AAAA,MACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA,oBAAoB;AAGhB,YAAI,CAAC,KAAK,YAAY;AAClB,eAAK,iBAAiB;AAAA,QAC1B;AAAA,MACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAWM,WAAW,IAAI,eAAe,MAAM;AAAA;AACtC,gBAAM,WAAW,KAAK,mBAAmB;AACzC,gBAAM,QAAQ,SAAS,UAAU,CAAC,YAAY,QAAQ,OAAO,EAAE;AAC/D,cAAI,UAAU;AACV;AACJ,eAAK,iBAAiB;AACtB,eAAK,sBAAsB;AAC3B,gBAAM,eAAe,KAAK,GAAG;AAC7B,gBAAM,SAAS,QAAQ;AACvB,eAAK,GAAG,SAAS;AAAA,YACb,KAAK;AAAA,YACL,OAAO,MAAM,KAAK,EAAE,IAAI,KAAK,KAAK;AAAA,YAClC,UAAU,eAAe,WAAW;AAAA,UACxC,CAAC;AAAA,QACL;AAAA;AAAA,MACA,qBAAqB;AACjB,eAAO,MAAM,KAAK,KAAK,GAAG,iBAAiB,qBAAqB,CAAC;AAAA,MACrE;AAAA,MACA,SAAS;AACL,cAAM,EAAE,UAAU,eAAe,IAAI;AACrC,eAAQ,EAAE,MAAM,EAAE,KAAK,4CAA4C,OAAO;AAAA,UAClE,yBAAyB;AAAA,UACzB,gCAAgC,mBAAmB;AAAA,QACvD,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,2CAA2C,CAAC,CAAC;AAAA,MAC3E;AAAA,MACA,IAAI,KAAK;AAAE,eAAO,WAAW,IAAI;AAAA,MAAG;AAAA,IACxC;AACA,gBAAY,QAAQ;AAAA,MAChB,KAAK;AAAA,MACL,IAAI;AAAA,IACR;AAAA;AAAA;","names":[],"x_google_ignoreList":[0]}