<ion-header>
  <ion-toolbar>
    <ion-title>Detalle de la Tarea</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div *ngIf="tarea; else noEncontrada" class="detalle-container">

    <!-- Tarjeta coloreada -->
    <div
      class="note-card"
      [style.--note-bg]="'var(--note-' + (tarea?.color || 'gray') + ')'"
    >
      <div class="note-header">
        <h2 class="note-title">{{ tarea.titulo }}</h2>
        <span class="note-date">
          {{ (tarea.updatedAt || tarea.createdAt) | date:'MMM d, HH:mm':'es-CL' }}
        </span>
      </div>

      <p class="note-desc">{{ tarea.descripcion }}</p>

      <!-- Estado dentro de la tarjeta (opcional). Si prefieres, deja solo el ion-chip de abajo -->
      <div class="note-status" [class.done]="tarea.completada">
        {{ tarea.completada ? 'Completada' : 'Pendiente' }}
      </div>
    </div>


    <ion-button
      expand="block"
      fill="outline"
      color="medium"
      (click)="toggleEstado()"
    >
      {{ tarea.completada ? 'Marcar como Pendiente' : 'Marcar como Completada' }}
    </ion-button>

    <ion-button expand="block" color="medium" (click)="editar()">
      Editar
    </ion-button>

    <ion-button expand="block" color="medium" (click)="eliminar()">
      <ion-icon name="trash"></ion-icon>
    </ion-button>

    <ion-button expand="block" fill="clear" color="dark" (click)="volver()">
      Volver
    </ion-button>
  </div>

  <ng-template #noEncontrada>
    <ion-text color="medium">
      <p class="sin-tarea">No se encontrÃ³ la tarea.</p>
    </ion-text>
  </ng-template>
</ion-content>




