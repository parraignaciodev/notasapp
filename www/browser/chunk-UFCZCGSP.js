import{a as G,b as q,c as B,d as j,g as z,h as L,i as H,j as J,k as R,o as $,p as K,q as Q,r as U,u as W,v as X}from"./chunk-BU72SXHL.js";import"./chunk-TULZT7AD.js";import"./chunk-QUJFQN2Y.js";import"./chunk-L5S773JO.js";import"./chunk-5UNEUROJ.js";import"./chunk-WNM3ARYN.js";import"./chunk-D44B6OBF.js";import"./chunk-3DZE6HYZ.js";import"./chunk-QJ4IY6VE.js";import"./chunk-7FY2OE2O.js";import"./chunk-VZWFDDCM.js";import"./chunk-QN35TEHR.js";import"./chunk-PROODDEW.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-GCDSLC6N.js";import"./chunk-CKP3SGE2.js";import"./chunk-3K7YJ3LB.js";import{A as m,D as c,E as a,F as r,G as u,M as P,N as x,O as d,Ua as g,Va as O,Wa as F,X as k,Y as M,Ya as S,Z as s,Za as w,_a as A,bb as N,cb as D,db as V,ja as y,ka as T,l as v,m as h,na as I,ra as E,s as l,u as f,w as C}from"./chunk-HWGQXR5V.js";import"./chunk-KPGGMEWE.js";import"./chunk-ACKNUHJB.js";import"./chunk-OPMMEZOP.js";import"./chunk-RARK2NDR.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as b}from"./chunk-JHI3MBHO.js";function Y(e,p){e&1&&(a(0,"span"),s(1,"El t\xEDtulo es obligatorio."),r())}function Z(e,p){e&1&&(a(0,"span"),s(1,"M\xEDnimo 3 caracteres."),r())}function ee(e,p){e&1&&(a(0,"span"),s(1,"No puede ser solo espacios."),r())}function te(e,p){if(e&1&&(a(0,"div",19),m(1,Y,2,0,"span",20)(2,Z,2,0,"span",20)(3,ee,2,0,"span",20),r()),e&2){let t,n,o,i=d();l(),c("ngIf",(t=i.tareaForm.get("titulo"))==null||t.errors==null?null:t.errors.required),l(),c("ngIf",(n=i.tareaForm.get("titulo"))==null||n.errors==null?null:n.errors.minlength),l(),c("ngIf",(o=i.tareaForm.get("titulo"))==null||o.errors==null?null:o.errors.soloEspacios)}}function ne(e,p){e&1&&(a(0,"span"),s(1,"La descripci\xF3n es obligatoria."),r())}function oe(e,p){e&1&&(a(0,"span"),s(1,"M\xEDnimo 5 caracteres."),r())}function re(e,p){e&1&&(a(0,"span"),s(1,"No puede ser solo espacios."),r())}function ae(e,p){if(e&1&&(a(0,"div",19),m(1,ne,2,0,"span",20)(2,oe,2,0,"span",20)(3,re,2,0,"span",20),r()),e&2){let t,n,o,i=d();l(),c("ngIf",(t=i.tareaForm.get("descripcion"))==null||t.errors==null?null:t.errors.required),l(),c("ngIf",(n=i.tareaForm.get("descripcion"))==null||n.errors==null?null:n.errors.minlength),l(),c("ngIf",(o=i.tareaForm.get("descripcion"))==null||o.errors==null?null:o.errors.soloEspacios)}}function ie(e,p){e&1&&u(0,"ion-icon",23)}function le(e,p){if(e&1){let t=P();a(0,"button",21),x("click",function(){let o=v(t).$implicit,i=d();return h(i.setColor(o))}),u(1,"span"),m(2,ie,1,0,"ion-icon",22),r()}if(e&2){let t=p.$implicit,n=d();k("selected",n.tareaForm.value.color===t),l(),M("dot "+t),l(),c("ngIf",n.tareaForm.value.color===t)}}var fe=(()=>{class e{constructor(t,n,o){this.fb=t,this.router=n,this.toastCtrl=o,this.palette=["sun","sky","mint","lavender","peach","gray"],this.tareaForm=this.fb.group({titulo:["",[g.required,g.minLength(3),this.noSoloEspacios]],descripcion:["",[g.required,g.minLength(5),this.noSoloEspacios]],color:["sun"]})}noSoloEspacios(t){return(t.value||"").trim().length===0?{soloEspacios:!0}:null}setColor(t){this.tareaForm.patchValue({color:t})}guardar(){return b(this,null,function*(){if(this.tareaForm.invalid){this.tareaForm.markAllAsTouched();return}let t=JSON.parse(localStorage.getItem("tareas")||"[]"),n=new Date().toISOString(),o={id:Date.now(),titulo:this.tareaForm.value.titulo,descripcion:this.tareaForm.value.descripcion,color:this.tareaForm.value.color,completada:!1,createdAt:n,updatedAt:n};t.push(o),localStorage.setItem("tareas",JSON.stringify(t)),yield(yield this.toastCtrl.create({message:"Tarea guardada exitosamente",duration:2e3,color:"success"})).present(),this.router.navigate(["/home"])})}static{this.\u0275fac=function(n){return new(n||e)(f(N),f(E),f(W))}}static{this.\u0275cmp=C({type:e,selectors:[["app-agregar-tarea"]],decls:28,vars:5,consts:[[1,"ion-no-border"],[1,"glass-header"],["slot","start"],["defaultHref","/home","color","primary","text",""],[1,"main-title"],[1,"ion-padding","form-content"],[1,"custom-form","animate-entry",3,"formGroup"],[1,"input-group"],[1,"input-label"],["lines","none",1,"custom-input"],["formControlName","titulo","placeholder","Escribe un t\xEDtulo..."],["class","error-msg",4,"ngIf"],["lines","none",1,"custom-input","textarea-input"],["formControlName","descripcion","rows","6","placeholder","Escribe los detalles..."],[1,"color-section"],[1,"color-row"],["type","button","class","color-swatch",3,"selected","click",4,"ngFor","ngForOf"],[1,"actions"],["expand","block",1,"save-btn",3,"click","disabled"],[1,"error-msg"],[4,"ngIf"],["type","button",1,"color-swatch",3,"click"],["name","checkmark",4,"ngIf"],["name","checkmark"]],template:function(n,o){if(n&1&&(a(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),u(3,"ion-back-button",3),r(),a(4,"ion-title",4),s(5,"Nueva Nota"),r()()(),a(6,"ion-content",5)(7,"form",6)(8,"div",7)(9,"ion-label",8),s(10,"T\xEDtulo"),r(),a(11,"ion-item",9),u(12,"ion-input",10),r(),m(13,te,4,3,"div",11),r(),a(14,"div",7)(15,"ion-label",8),s(16,"Descripci\xF3n"),r(),a(17,"ion-item",12),u(18,"ion-textarea",13),r(),m(19,ae,4,3,"div",11),r(),a(20,"div",14)(21,"ion-label",8),s(22,"Color de etiqueta"),r(),a(23,"div",15),m(24,le,3,5,"button",16),r()(),a(25,"div",17)(26,"ion-button",18),x("click",function(){return o.guardar()}),s(27," Guardar Nota "),r()()()()),n&2){let i,_;l(7),c("formGroup",o.tareaForm),l(6),c("ngIf",((i=o.tareaForm.get("titulo"))==null?null:i.touched)&&((i=o.tareaForm.get("titulo"))==null?null:i.errors)),l(6),c("ngIf",((_=o.tareaForm.get("descripcion"))==null?null:_.touched)&&((_=o.tareaForm.get("descripcion"))==null?null:_.errors)),l(5),c("ngForOf",o.palette),l(2),c("disabled",o.tareaForm.invalid)}},dependencies:[I,y,T,X,q,B,j,z,L,H,J,R,$,K,Q,G,U,D,S,O,F,V,w,A],styles:[".form-content[_ngcontent-%COMP%]{--background: var(--ion-background-color)}.main-title[_ngcontent-%COMP%]{font-weight:700;letter-spacing:-.5px}.custom-form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.input-group[_ngcontent-%COMP%]{margin-bottom:24px}.input-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:var(--ion-color-medium);margin-bottom:8px;margin-left:4px}.custom-input[_ngcontent-%COMP%]{--background: #fff;--border-radius: 12px;--padding-start: 16px;--inner-padding-end: 16px;box-shadow:0 2px 8px #00000008;border:1px solid rgba(0,0,0,.05)}.custom-input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .custom-input[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--padding-top: 12px;--padding-bottom: 12px}body.dark[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]{--background: #2a2a2a;border:1px solid rgba(255,255,255,.05)}.textarea-input[_ngcontent-%COMP%]{align-items:flex-start}.error-msg[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-danger);margin-top:6px;margin-left:4px;display:flex;align-items:center;gap:4px}.color-section[_ngcontent-%COMP%]{margin-bottom:32px}.color-row[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;padding:4px}.color-swatch[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;border:2px solid transparent;background:transparent;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;position:relative}.color-swatch.selected[_ngcontent-%COMP%]{border-color:var(--ion-color-primary);transform:scale(1.1)}.color-swatch[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#333;opacity:.7}.dot[_ngcontent-%COMP%]{position:absolute;inset:4px;border-radius:50%}.dot.sun[_ngcontent-%COMP%]{background-color:#fff4cc;background-color:var(--note-sun)}.dot.sky[_ngcontent-%COMP%]{background-color:#e6f2ff;background-color:var(--note-sky)}.dot.mint[_ngcontent-%COMP%]{background-color:#e7fff2;background-color:var(--note-mint)}.dot.lavender[_ngcontent-%COMP%]{background-color:#efe9ff;background-color:var(--note-lavender)}.dot.peach[_ngcontent-%COMP%]{background-color:#ffe9df;background-color:var(--note-peach)}.dot.gray[_ngcontent-%COMP%]{background-color:#f2f3f5;background-color:var(--note-gray)}.save-btn[_ngcontent-%COMP%]{--box-shadow: 0 8px 20px rgba(98, 0, 238, .3);margin-top:16px;height:52px;font-size:16px}"]})}}return e})();export{fe as AgregarTareaPage};
