import{a as A,b as N,d as w,g as D,i as q,j,k as z,l as G,n as L,p as k,q as V,t as Z,v as B}from"./chunk-BU72SXHL.js";import"./chunk-TULZT7AD.js";import"./chunk-QUJFQN2Y.js";import"./chunk-L5S773JO.js";import"./chunk-5UNEUROJ.js";import"./chunk-WNM3ARYN.js";import"./chunk-D44B6OBF.js";import"./chunk-3DZE6HYZ.js";import"./chunk-QJ4IY6VE.js";import"./chunk-7FY2OE2O.js";import"./chunk-VZWFDDCM.js";import"./chunk-QN35TEHR.js";import"./chunk-PROODDEW.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-GCDSLC6N.js";import"./chunk-CKP3SGE2.js";import"./chunk-3K7YJ3LB.js";import{a as O}from"./chunk-RJXKT5RK.js";import{A as _,D as m,E as i,F as t,G as d,N as h,O as f,Ua as c,Va as E,Wa as I,Ya as F,Z as o,Za as P,_a as y,bb as S,cb as M,db as R,eb as T,ka as C,na as b,s,u as p,w as v}from"./chunk-HWGQXR5V.js";import"./chunk-KPGGMEWE.js";import"./chunk-ACKNUHJB.js";import"./chunk-OPMMEZOP.js";import"./chunk-RARK2NDR.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as x}from"./chunk-JHI3MBHO.js";function U(e,g){e&1&&(i(0,"ion-note"),o(1," El usuario es requerido. "),t())}function $(e,g){e&1&&(i(0,"ion-note"),o(1," Debe tener al menos 3 caracteres. "),t())}function H(e,g){e&1&&(i(0,"ion-note"),o(1," No puede superar los 16 caracteres. "),t())}function K(e,g){e&1&&(i(0,"ion-note"),o(1," Solo se permiten letras, n\xFAmeros y los s\xEDmbolos . _ - "),t())}function J(e,g){if(e&1&&(i(0,"ion-text",10),_(1,U,2,0,"ion-note",11)(2,$,2,0,"ion-note",11)(3,H,2,0,"ion-note",11)(4,K,2,0,"ion-note",11),t()),e&2){let a,r,n,l,u=f();s(),m("ngIf",(a=u.registerForm.get("usuario"))==null?null:a.hasError("required")),s(),m("ngIf",(r=u.registerForm.get("usuario"))==null?null:r.hasError("minlength")),s(),m("ngIf",(n=u.registerForm.get("usuario"))==null?null:n.hasError("maxlength")),s(),m("ngIf",(l=u.registerForm.get("usuario"))==null?null:l.hasError("pattern"))}}function Q(e,g){e&1&&(i(0,"ion-note"),o(1," La contrase\xF1a es requerida. "),t())}function W(e,g){e&1&&(i(0,"ion-note"),o(1," Debe tener m\xEDnimo 8 caracteres, incluir una may\xFAscula, una min\xFAscula, un n\xFAmero y un s\xEDmbolo. "),t())}function X(e,g){if(e&1&&(i(0,"ion-text",10),_(1,Q,2,0,"ion-note",11)(2,W,2,0,"ion-note",11),t()),e&2){let a,r,n=f();s(),m("ngIf",(a=n.registerForm.get("clave"))==null?null:a.hasError("required")),s(),m("ngIf",(r=n.registerForm.get("clave"))==null?null:r.hasError("pattern"))}}var se=(()=>{class e{constructor(a,r,n,l){this.fb=a,this.navCtrl=r,this.alertCtrl=n,this.authService=l,this.registerForm=this.fb.group({usuario:["",[c.required,c.minLength(3),c.maxLength(16),c.pattern(/^[a-zA-Z0-9._-]{3,16}$/)]],clave:["",[c.required,c.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/)]]})}onRegister(){return x(this,null,function*(){if(this.registerForm.valid){let{usuario:a,clave:r}=this.registerForm.value;this.authService.registrarUsuario(a,r)?this.navCtrl.navigateRoot("/login"):yield(yield this.alertCtrl.create({header:"Error",message:"El usuario ya existe, elige otro nombre.",buttons:["OK"]})).present()}else this.registerForm.markAllAsTouched()})}static{this.\u0275fac=function(r){return new(r||e)(p(S),p(T),p(Z),p(O))}}static{this.\u0275cmp=v({type:e,selectors:[["app-register"]],decls:21,vars:3,consts:[[1,"app-title"],["fullscreen","",1,"register-content"],[1,"register-container"],[1,"register-title"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","usuario"],["color","danger",4,"ngIf"],["type","password","formControlName","clave"],["expand","block","type","submit",1,"btn-register"],["color","danger"],[4,"ngIf"]],template:function(r,n){if(r&1&&(i(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),o(3,"Crear Cuenta"),t()()(),i(4,"ion-content",1)(5,"div",2)(6,"h2",3),o(7,"Reg\xEDstrate"),t(),i(8,"form",4),h("ngSubmit",function(){return n.onRegister()}),i(9,"ion-item")(10,"ion-label",5),o(11,"Usuario"),t(),d(12,"ion-input",6),t(),_(13,J,5,4,"ion-text",7),i(14,"ion-item")(15,"ion-label",5),o(16,"Contrase\xF1a"),t(),d(17,"ion-input",8),t(),_(18,X,3,2,"ion-text",7),i(19,"ion-button",9),o(20,"Crear Cuenta"),t()()()()),r&2){let l,u;s(8),m("formGroup",n.registerForm),s(5),m("ngIf",((l=n.registerForm.get("usuario"))==null?null:l.touched)&&((l=n.registerForm.get("usuario"))==null?null:l.invalid)),s(5),m("ngIf",((u=n.registerForm.get("clave"))==null?null:u.touched)&&((u=n.registerForm.get("clave"))==null?null:u.invalid))}},dependencies:[b,C,M,F,E,I,R,P,y,B,N,w,D,q,j,z,G,L,k,V,A],styles:[".register-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px}.register-container[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto;text-align:center}.register-container[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:24px;color:var(--ion-color-primary)}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:12px;border-radius:8px;--background: var(--ion-color-light);box-shadow:0 2px 6px #0000000d}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]{margin-top:16px;--box-shadow: 0 4px 12px rgba(0, 0, 0, .15)}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:.85rem}"]})}}return e})();export{se as RegisterPage};
