import{a as B}from"./chunk-UZELX2NR.js";import{B as Z,b as O,c as A,f as N,i as w,k as D,l as q,m as j,o as z,t as G,v as L,w as k,z as V}from"./chunk-4TXRC6IA.js";import"./chunk-3UM3HIIS.js";import"./chunk-QUJFQN2Y.js";import"./chunk-XNHTIZJD.js";import"./chunk-ZINMVDVP.js";import"./chunk-7Q4XLJYQ.js";import"./chunk-RKTKMO2W.js";import"./chunk-H473PMB4.js";import"./chunk-VV4OZZV3.js";import"./chunk-QNCTVU3D.js";import"./chunk-54GZX5XS.js";import"./chunk-5BRO6Q2L.js";import"./chunk-GWR6W3C3.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-JPAE2ESC.js";import"./chunk-CKP3SGE2.js";import"./chunk-AFUYUMCB.js";import{B as F,C as P,D as y,G as S,H as M,I as R,J as T,x as c,y as E,z as I}from"./chunk-6XRCHWW2.js";import{M as s,R as p,Ra as C,T as v,Va as b,X as _,aa as m,ba as i,ca as t,da as d,ka as h,la as f,wa as o}from"./chunk-APMANMIP.js";import"./chunk-5XPTL2YD.js";import"./chunk-DFETTOGW.js";import"./chunk-3SFUVCX7.js";import"./chunk-DGM7SJPU.js";import"./chunk-DNTR6X5U.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{h as x}from"./chunk-B7O3QC5Z.js";function U(e,g){e&1&&(i(0,"ion-note"),o(1," El usuario es requerido. "),t())}function $(e,g){e&1&&(i(0,"ion-note"),o(1," Debe tener al menos 3 caracteres. "),t())}function H(e,g){e&1&&(i(0,"ion-note"),o(1," No puede superar los 16 caracteres. "),t())}function K(e,g){e&1&&(i(0,"ion-note"),o(1," Solo se permiten letras, n\xFAmeros y los s\xEDmbolos . _ - "),t())}function J(e,g){if(e&1&&(i(0,"ion-text",10),_(1,U,2,0,"ion-note",11)(2,$,2,0,"ion-note",11)(3,H,2,0,"ion-note",11)(4,K,2,0,"ion-note",11),t()),e&2){let a,r,n,l,u=f();s(),m("ngIf",(a=u.registerForm.get("usuario"))==null?null:a.hasError("required")),s(),m("ngIf",(r=u.registerForm.get("usuario"))==null?null:r.hasError("minlength")),s(),m("ngIf",(n=u.registerForm.get("usuario"))==null?null:n.hasError("maxlength")),s(),m("ngIf",(l=u.registerForm.get("usuario"))==null?null:l.hasError("pattern"))}}function Q(e,g){e&1&&(i(0,"ion-note"),o(1," La contrase\xF1a es requerida. "),t())}function W(e,g){e&1&&(i(0,"ion-note"),o(1," Debe tener m\xEDnimo 8 caracteres, incluir una may\xFAscula, una min\xFAscula, un n\xFAmero y un s\xEDmbolo. "),t())}function X(e,g){if(e&1&&(i(0,"ion-text",10),_(1,Q,2,0,"ion-note",11)(2,W,2,0,"ion-note",11),t()),e&2){let a,r,n=f();s(),m("ngIf",(a=n.registerForm.get("clave"))==null?null:a.hasError("required")),s(),m("ngIf",(r=n.registerForm.get("clave"))==null?null:r.hasError("pattern"))}}var se=(()=>{class e{constructor(a,r,n,l){this.fb=a,this.navCtrl=r,this.alertCtrl=n,this.authService=l,this.registerForm=this.fb.group({usuario:["",[c.required,c.minLength(3),c.maxLength(16),c.pattern(/^[a-zA-Z0-9._-]{3,16}$/)]],clave:["",[c.required,c.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/)]]})}onRegister(){return x(this,null,function*(){if(this.registerForm.valid){let{usuario:a,clave:r}=this.registerForm.value;this.authService.registrarUsuario(a,r)?this.navCtrl.navigateRoot("/login"):yield(yield this.alertCtrl.create({header:"Error",message:"El usuario ya existe, elige otro nombre.",buttons:["OK"]})).present()}else this.registerForm.markAllAsTouched()})}static{this.\u0275fac=function(r){return new(r||e)(p(S),p(T),p(V),p(B))}}static{this.\u0275cmp=v({type:e,selectors:[["app-register"]],decls:21,vars:3,consts:[[1,"app-title"],["fullscreen","",1,"register-content"],[1,"register-container"],[1,"register-title"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","usuario"],["color","danger",4,"ngIf"],["type","password","formControlName","clave"],["expand","block","type","submit",1,"btn-register"],["color","danger"],[4,"ngIf"]],template:function(r,n){if(r&1&&(i(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),o(3,"Crear Cuenta"),t()()(),i(4,"ion-content",1)(5,"div",2)(6,"h2",3),o(7,"Reg\xEDstrate"),t(),i(8,"form",4),h("ngSubmit",function(){return n.onRegister()}),i(9,"ion-item")(10,"ion-label",5),o(11,"Usuario"),t(),d(12,"ion-input",6),t(),_(13,J,5,4,"ion-text",7),i(14,"ion-item")(15,"ion-label",5),o(16,"Contrase\xF1a"),t(),d(17,"ion-input",8),t(),_(18,X,3,2,"ion-text",7),i(19,"ion-button",9),o(20,"Crear Cuenta"),t()()()()),r&2){let l,u;s(8),m("formGroup",n.registerForm),s(5),m("ngIf",((l=n.registerForm.get("usuario"))==null?null:l.touched)&&((l=n.registerForm.get("usuario"))==null?null:l.invalid)),s(5),m("ngIf",((u=n.registerForm.get("clave"))==null?null:u.touched)&&((u=n.registerForm.get("clave"))==null?null:u.invalid))}},dependencies:[b,C,M,F,E,I,R,P,y,Z,A,N,w,D,q,j,z,G,L,k,O],styles:[".register-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px}.register-container[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto;text-align:center}.register-container[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:24px;color:var(--ion-color-primary)}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:12px;border-radius:8px;--background: var(--ion-color-light);box-shadow:0 2px 6px #0000000d}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]{margin-top:16px;--box-shadow: 0 4px 12px rgba(0, 0, 0, .15)}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:.85rem}"]})}}return e})();export{se as RegisterPage};
