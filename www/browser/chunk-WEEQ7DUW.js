import{b as N,c as z,d as A,g as B,h as G,q as J,r as j,t as H,u as R,v as F}from"./chunk-BU72SXHL.js";import"./chunk-TULZT7AD.js";import"./chunk-QUJFQN2Y.js";import"./chunk-L5S773JO.js";import"./chunk-5UNEUROJ.js";import"./chunk-WNM3ARYN.js";import"./chunk-D44B6OBF.js";import"./chunk-3DZE6HYZ.js";import"./chunk-QJ4IY6VE.js";import"./chunk-7FY2OE2O.js";import"./chunk-VZWFDDCM.js";import"./chunk-QN35TEHR.js";import"./chunk-PROODDEW.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-GCDSLC6N.js";import"./chunk-CKP3SGE2.js";import"./chunk-3K7YJ3LB.js";import{$ as f,A as y,D as u,E as n,F as i,G as m,M as x,N as g,O as _,V as P,W as M,X as O,Z as r,_ as h,ea as I,fa as w,ga as k,ka as E,l as d,m as s,ma as S,na as T,pa as V,ra as D,s as o,u as p,w as C}from"./chunk-HWGQXR5V.js";import"./chunk-KPGGMEWE.js";import"./chunk-ACKNUHJB.js";import"./chunk-OPMMEZOP.js";import"./chunk-RARK2NDR.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as b}from"./chunk-JHI3MBHO.js";function W(l,q){if(l&1){let e=x();n(0,"div",10)(1,"div",11)(2,"div",12)(3,"h1",13),r(4),i(),n(5,"div",14)(6,"span",15),m(7,"ion-icon",16),r(8),I(9,"date"),i(),n(10,"span",17),r(11),i()()(),n(12,"div",18)(13,"p",19),r(14),i()()(),n(15,"div",20)(16,"ion-button",21),g("click",function(){d(e);let a=_();return s(a.toggleEstado())}),m(17,"ion-icon",22),r(18),i()()()}if(l&2){let e=_();o(),M("--note-bg","var(--note-"+((e.tarea==null?null:e.tarea.color)||"gray")+")"),o(3),h(e.tarea.titulo),o(4),f(" ",w(9,11,e.tarea.updatedAt||e.tarea.createdAt,"d MMM yyyy, HH:mm")," "),o(2),O("done",e.tarea.completada),o(),f(" ",e.tarea.completada?"Completada":"Pendiente"," "),o(3),h(e.tarea.descripcion),o(2),u("color",e.tarea.completada?"medium":"success"),o(),u("name",e.tarea.completada?"arrow-undo":"checkmark-circle"),o(),f(" ",e.tarea.completada?"Marcar como Pendiente":"Marcar como Completada"," ")}}function K(l,q){if(l&1){let e=x();n(0,"div",23),m(1,"ion-icon",24),n(2,"p"),r(3,"No se encontr\xF3 la tarea."),i(),n(4,"ion-button",25),g("click",function(){d(e);let a=_();return s(a.volver())}),r(5,"Volver al inicio"),i()()}}var L={sun:"var(--note-sun)",sky:"var(--note-sky)",mint:"var(--note-mint)",lavender:"var(--note-lavender)",peach:"var(--note-peach)",gray:"var(--note-gray)"},ee=(()=>{class l{constructor(e,t,a,c){this.route=e,this.router=t,this.alertCtrl=a,this.toastCtrl=c}ngOnInit(){this.cargarTarea()}ionViewWillEnter(){this.cargarTarea()}getNoteBg(e){return L[e||"gray"]}cargarTarea(){let e=Number(this.route.snapshot.paramMap.get("id")),t=JSON.parse(localStorage.getItem("tareas")||"[]");this.tarea=t.find(a=>a.id===e)}volver(){this.router.navigate(["/home"])}toggleEstado(){let e=JSON.parse(localStorage.getItem("tareas")||"[]"),t=e.findIndex(a=>a.id===this.tarea.id);t!==-1&&(e[t].completada=!e[t].completada,e[t].updatedAt=new Date().toISOString(),localStorage.setItem("tareas",JSON.stringify(e)),this.tarea.completada=e[t].completada,this.tarea.updatedAt=e[t].updatedAt)}editar(){this.router.navigate(["/editar-tarea",this.tarea.id])}eliminar(){return b(this,null,function*(){yield(yield this.alertCtrl.create({header:"Confirmar eliminaci\xF3n",message:"\xBFEst\xE1s seguro de que deseas eliminar esta tarea?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:()=>b(this,null,function*(){let a=JSON.parse(localStorage.getItem("tareas")||"[]").filter(v=>v.id!==this.tarea.id);localStorage.setItem("tareas",JSON.stringify(a)),yield(yield this.toastCtrl.create({message:"Tarea eliminada correctamente",duration:2e3,color:"danger"})).present(),this.router.navigate(["/home"])})}]})).present()})}static{this.\u0275fac=function(t){return new(t||l)(p(V),p(D),p(H),p(R))}}static{this.\u0275cmp=C({type:l,selectors:[["app-detalle-tarea"]],decls:13,vars:2,consts:[["noEncontrada",""],[1,"ion-no-border"],[1,"glass-header"],["slot","start"],["defaultHref","/home","color","primary","text",""],["slot","end"],["color","primary",2,"font-weight","600",3,"click"],["color","danger",2,"font-weight","600",3,"click"],[1,"ion-padding","detail-content"],["class","detail-container animate-entry",4,"ngIf","ngIfElse"],[1,"detail-container","animate-entry"],[1,"note-detail-card"],[1,"detail-header"],[1,"detail-title"],[1,"detail-meta"],[1,"date"],["name","calendar-outline"],[1,"status-badge"],[1,"detail-body"],[1,"description"],[1,"actions-container"],["expand","block",1,"action-btn",3,"click","color"],["slot","start",3,"name"],[1,"empty-state"],["name","alert-circle-outline","color","medium"],["fill","clear",3,"click"]],template:function(t,a){if(t&1){let c=x();n(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),m(3,"ion-back-button",4),i(),n(4,"ion-buttons",5)(5,"ion-button",6),g("click",function(){return d(c),s(a.editar())}),r(6," Editar "),i(),n(7,"ion-button",7),g("click",function(){return d(c),s(a.eliminar())}),r(8," Eliminar "),i()()()(),n(9,"ion-content",8),y(10,W,19,14,"div",9)(11,K,6,0,"ng-template",null,0,k),i()}if(t&2){let c=P(12);o(10),u("ngIf",a.tarea)("ngIfElse",c)}},dependencies:[T,E,F,N,z,A,B,G,J,j,S],styles:[".detail-content[_ngcontent-%COMP%]{--background: var(--ion-background-color)}.detail-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding-top:16px}.note-detail-card[_ngcontent-%COMP%]{background-color:var(--note-bg, #fff);border-radius:24px;padding:32px;box-shadow:0 8px 30px #00000014;margin-bottom:32px;position:relative;overflow:hidden}.note-detail-card[_ngcontent-%COMP%]:not([style*=--note-bg]){background-color:var(--ion-card-background)}.detail-header[_ngcontent-%COMP%]{margin-bottom:24px;border-bottom:1px solid rgba(0,0,0,.05);padding-bottom:16px}.detail-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin:0 0 12px;color:#222;line-height:1.2}.detail-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;font-size:14px;color:#0009}.date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.date[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;background:#0000000d;font-weight:600;font-size:12px;text-transform:uppercase;letter-spacing:.5px}.status-badge.done[_ngcontent-%COMP%]{background:var(--ion-color-success);color:#fff}.detail-body[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#333;white-space:pre-wrap}body.dark[_ngcontent-%COMP%]   .note-detail-card[_ngcontent-%COMP%]:not([style*=--note-bg])   .detail-title[_ngcontent-%COMP%]{color:var(--ion-text-color)}body.dark[_ngcontent-%COMP%]   .note-detail-card[_ngcontent-%COMP%]:not([style*=--note-bg])   .detail-body[_ngcontent-%COMP%]{color:var(--ion-text-color)}body.dark[_ngcontent-%COMP%]   .note-detail-card[_ngcontent-%COMP%]:not([style*=--note-bg])   .detail-meta[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.actions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.action-btn[_ngcontent-%COMP%]{height:56px;font-size:16px;font-weight:600;--border-radius: 16px;--box-shadow: 0 4px 12px rgba(0, 0, 0, .1)}.empty-state[_ngcontent-%COMP%]{text-align:center;margin-top:100px}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--ion-color-medium)}"]})}}return l})();export{ee as DetalleTareaPage};
