import{a as $}from"./chunk-UZELX2NR.js";import{B as Z,b as A,c as N,f as D,i as q,k as z,l as V,m as j,o as k,t as G,v as R,w as B,y as K,z as U}from"./chunk-4TXRC6IA.js";import"./chunk-3UM3HIIS.js";import"./chunk-QUJFQN2Y.js";import"./chunk-XNHTIZJD.js";import"./chunk-ZINMVDVP.js";import"./chunk-7Q4XLJYQ.js";import"./chunk-RKTKMO2W.js";import"./chunk-H473PMB4.js";import"./chunk-VV4OZZV3.js";import"./chunk-QNCTVU3D.js";import"./chunk-54GZX5XS.js";import"./chunk-5BRO6Q2L.js";import"./chunk-GWR6W3C3.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-JPAE2ESC.js";import"./chunk-CKP3SGE2.js";import"./chunk-AFUYUMCB.js";import{B as S,C as y,D as M,G as O,H as L,I as w,J as T,x as g,y as I,z as P}from"./chunk-6XRCHWW2.js";import{M as u,R as p,Ra as C,T as v,Va as b,X as d,aa as m,ba as n,ca as t,da as _,gb as E,ka as h,kb as F,la as f,wa as a}from"./chunk-APMANMIP.js";import"./chunk-5XPTL2YD.js";import"./chunk-DFETTOGW.js";import"./chunk-3SFUVCX7.js";import"./chunk-DGM7SJPU.js";import"./chunk-DNTR6X5U.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{h as x}from"./chunk-B7O3QC5Z.js";function H(e,s){e&1&&(n(0,"ion-note"),a(1," El usuario es requerido. "),t())}function J(e,s){e&1&&(n(0,"ion-note"),a(1," Debe tener al menos 3 caracteres. "),t())}function Q(e,s){e&1&&(n(0,"ion-note"),a(1," No puede superar los 16 caracteres. "),t())}function W(e,s){e&1&&(n(0,"ion-note"),a(1," Solo se permiten letras, n\xFAmeros y los s\xEDmbolos . _ - "),t())}function X(e,s){if(e&1&&(n(0,"ion-text",14),d(1,H,2,0,"ion-note",15)(2,J,2,0,"ion-note",15)(3,Q,2,0,"ion-note",15)(4,W,2,0,"ion-note",15),t()),e&2){let r,i,o,l,c=f();u(),m("ngIf",(r=c.loginForm.get("usuario"))==null?null:r.hasError("required")),u(),m("ngIf",(i=c.loginForm.get("usuario"))==null?null:i.hasError("minlength")),u(),m("ngIf",(o=c.loginForm.get("usuario"))==null?null:o.hasError("maxlength")),u(),m("ngIf",(l=c.loginForm.get("usuario"))==null?null:l.hasError("pattern"))}}function Y(e,s){e&1&&(n(0,"ion-note"),a(1," La contrase\xF1a es requerida. "),t())}function ee(e,s){e&1&&(n(0,"ion-note"),a(1," Debe tener m\xEDnimo 8 caracteres, incluir una may\xFAscula, una min\xFAscula, un n\xFAmero y un s\xEDmbolo. "),t())}function te(e,s){if(e&1&&(n(0,"ion-text",14),d(1,Y,2,0,"ion-note",15)(2,ee,2,0,"ion-note",15),t()),e&2){let r,i,o=f();u(),m("ngIf",(r=o.loginForm.get("clave"))==null?null:r.hasError("required")),u(),m("ngIf",(i=o.loginForm.get("clave"))==null?null:i.hasError("pattern"))}}var ge=(()=>{class e{constructor(r,i,o,l){this.fb=r,this.navCtrl=i,this.alertCtrl=o,this.authService=l,this.loginForm=this.fb.group({usuario:["",[g.required,g.minLength(3),g.maxLength(16),g.pattern(/^[a-zA-Z0-9._-]{3,16}$/)]],clave:["",[g.required,g.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/)]]})}ngOnInit(){}onSubmit(){return x(this,null,function*(){if(this.loginForm.valid){let r=this.loginForm.get("usuario")?.value,i=this.loginForm.get("clave")?.value;r&&i?this.authService.validarUsuario(r,i)?(this.authService.login(r),this.navCtrl.navigateForward("/home")):yield(yield this.alertCtrl.create({header:"Error",message:"Usuario o contrase\xF1a incorrectos",buttons:["OK"]})).present():yield(yield this.alertCtrl.create({header:"Formulario inv\xE1lido",message:"El usuario y la clave no pueden estar vac\xEDos.",buttons:["OK"]})).present()}else yield(yield this.alertCtrl.create({header:"Formulario inv\xE1lido",message:"Verifica que el usuario y la contrase\xF1a cumplan los requisitos.",buttons:["OK"]})).present()})}static{this.\u0275fac=function(i){return new(i||e)(p(O),p(T),p(U),p($))}}static{this.\u0275cmp=v({type:e,selectors:[["app-login"]],decls:26,vars:4,consts:[[3,"translucent"],[1,"app-title"],["fullscreen","",1,"login-content"],[1,"login-container"],[1,"login-title"],[1,"subtitle"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","usuario"],["color","danger",4,"ngIf"],["type","password","formControlName","clave"],["expand","block","type","submit",1,"btn-login"],[1,"create-account"],["fill","clear","routerLink","/register"],["color","danger"],[4,"ngIf"]],template:function(i,o){if(i&1&&(n(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),a(3,"apunta!"),t()()(),n(4,"ion-content",2)(5,"div",3)(6,"h1",4),a(7,"\xA1Bienvenido!"),t(),n(8,"p",5),a(9,"Aqu\xED comienza todo"),t(),n(10,"form",6),h("ngSubmit",function(){return o.onSubmit()}),n(11,"ion-item")(12,"ion-label",7),a(13,"Usuario"),t(),_(14,"ion-input",8),t(),d(15,X,5,4,"ion-text",9),n(16,"ion-item")(17,"ion-label",7),a(18,"Contrase\xF1a"),t(),_(19,"ion-input",10),t(),d(20,te,3,2,"ion-text",9),n(21,"ion-button",11),a(22,"Ingresar"),t()(),n(23,"p",12)(24,"ion-button",13),a(25,"Crea tu cuenta gratis"),t()()()()),i&2){let l,c;m("translucent",!0),u(10),m("formGroup",o.loginForm),u(5),m("ngIf",((l=o.loginForm.get("usuario"))==null?null:l.touched)&&((l=o.loginForm.get("usuario"))==null?null:l.invalid)),u(5),m("ngIf",((c=o.loginForm.get("clave"))==null?null:c.touched)&&((c=o.loginForm.get("clave"))==null?null:c.invalid))}},dependencies:[b,C,Z,N,D,q,z,V,j,k,G,R,B,A,K,L,S,I,P,w,y,M,F,E],styles:[".login-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px}.login-container[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto;text-align:center}.login-container[_ngcontent-%COMP%]   h1.login-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:8px;color:var(--ion-color-primary)}.login-container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:24px;color:var(--ion-color-medium)}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:12px;border-radius:8px;--background: var(--ion-color-light);box-shadow:0 2px 6px #0000000d}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{margin-top:16px;--box-shadow: 0 4px 12px rgba(0, 0, 0, .15)}.login-container[_ngcontent-%COMP%]   .create-account[_ngcontent-%COMP%]{margin-top:24px;font-size:.9rem;color:var(--ion-color-medium)}.login-container[_ngcontent-%COMP%]   .create-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary);text-decoration:none;font-weight:500}"]})}}return e})();export{ge as LoginPage};
